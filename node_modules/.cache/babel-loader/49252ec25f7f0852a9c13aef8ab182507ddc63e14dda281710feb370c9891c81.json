{"ast":null,"code":"var _jsxFileName = \"E:\\\\House Details\\\\pgk-construction\\\\src\\\\context\\\\ConstructionContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PROJECT_DATA = {\n  projectName: \"PGK Construction\",\n  engineer: \"Er. P. Govindaraj\",\n  perSqftRate: 1650,\n  totalSqft: 625,\n  totalCost: 1031250,\n  lastUpdated: new Date().toISOString().split('T')[0]\n};\nconst INITIAL_STAGES = [{\n  id: \"advance\",\n  name: \"Advance\",\n  percentage: 20,\n  amount: 206250,\n  paid: 0,\n  status: \"pending\",\n  date: \"2023-09-01\",\n  notes: \"Initial payment received\"\n}, {\n  id: \"basement\",\n  name: \"Basement\",\n  percentage: 15,\n  amount: 154687,\n  paid: 0,\n  status: \"in-progress\",\n  date: \"2023-09-15\",\n  notes: \"Excavation completed, foundation work in progress\"\n}, {\n  id: \"lintel\",\n  name: \"Lintel\",\n  percentage: 15,\n  amount: 154687,\n  paid: 0,\n  status: \"pending\",\n  date: \"\",\n  notes: \"Not started\"\n}, {\n  id: \"roof\",\n  name: \"Roof Level\",\n  percentage: 15,\n  amount: 154687,\n  paid: 0,\n  status: \"pending\",\n  date: \"\",\n  notes: \"Not started\"\n}, {\n  id: \"inner-plastering\",\n  name: \"Inner Plastering\",\n  percentage: 10,\n  amount: 103125,\n  paid: 0,\n  status: \"pending\",\n  date: \"\",\n  notes: \"Not started\"\n}, {\n  id: \"outer-plastering\",\n  name: \"Outer Plastering\",\n  percentage: 10,\n  amount: 103125,\n  paid: 0,\n  status: \"pending\",\n  date: \"\",\n  notes: \"Not started\"\n}, {\n  id: \"tiles\",\n  name: \"Tiles\",\n  percentage: 8,\n  amount: 82500,\n  paid: 0,\n  status: \"pending\",\n  date: \"\",\n  notes: \"Not started\"\n}, {\n  id: \"electrical\",\n  name: \"Electrical\",\n  percentage: 5,\n  amount: 51562,\n  paid: 0,\n  status: \"pending\",\n  date: \"\",\n  notes: \"Not started\"\n}, {\n  id: \"whitewash\",\n  name: \"Whitewash\",\n  percentage: 2,\n  amount: 20625,\n  paid: 0,\n  status: \"pending\",\n  date: \"\",\n  notes: \"Not started\"\n}];\nconst INITIAL_EXPENSES = [{\n  id: 1,\n  name: \"Septic Tank\",\n  amount: 25000,\n  paid: 0,\n  date: \"2023-10-05\",\n  category: \"septic-tank\",\n  status: \"pending\",\n  notes: \"Installation in progress\"\n}, {\n  id: 2,\n  name: \"Sump\",\n  amount: 15000,\n  paid: 15000,\n  date: \"2023-09-20\",\n  category: \"sump\",\n  status: \"paid\",\n  notes: \"5000L capacity sump installed\"\n}, {\n  id: 3,\n  name: \"Borewell\",\n  amount: 50000,\n  paid: 50000,\n  date: \"2023-09-10\",\n  category: \"borewell\",\n  status: \"paid\",\n  notes: \"Completed successfully with good water flow\"\n}];\nconst ConstructionContext = /*#__PURE__*/createContext();\nexport const useConstruction = () => {\n  _s();\n  const context = useContext(ConstructionContext);\n  if (!context) {\n    throw new Error('useConstruction must be used within a ConstructionProvider');\n  }\n  return context;\n};\n_s(useConstruction, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const ConstructionProvider = ({\n  children\n}) => {\n  _s2();\n  const [projectData] = useState(PROJECT_DATA);\n  const [stages, setStages] = useState(() => {\n    const saved = localStorage.getItem('construction-stages');\n    return saved ? JSON.parse(saved) : INITIAL_STAGES;\n  });\n  const [expenses, setExpenses] = useState(() => {\n    const saved = localStorage.getItem('construction-expenses');\n    return saved ? JSON.parse(saved) : INITIAL_EXPENSES;\n  });\n  const [payments, setPayments] = useState(() => {\n    const saved = localStorage.getItem('construction-payments');\n    return saved ? JSON.parse(saved) : [];\n  });\n  useEffect(() => {\n    localStorage.setItem('construction-stages', JSON.stringify(stages));\n  }, [stages]);\n  useEffect(() => {\n    localStorage.setItem('construction-expenses', JSON.stringify(expenses));\n  }, [expenses]);\n  useEffect(() => {\n    localStorage.setItem('construction-payments', JSON.stringify(payments));\n  }, [payments]);\n  const totalConstructionCost = projectData.totalCost;\n  const paidConstructionAmount = stages.reduce((sum, stage) => sum + parseInt(stage.paid || 0), 0);\n  const balanceConstructionAmount = totalConstructionCost - paidConstructionAmount;\n  const totalExpensesAmount = expenses.reduce((sum, expense) => sum + parseInt(expense.amount || 0), 0);\n  const paidExpensesAmount = expenses.reduce((sum, expense) => sum + parseInt(expense.paid || 0), 0);\n  const balanceExpensesAmount = totalExpensesAmount - paidExpensesAmount;\n  const totalProjectCost = totalConstructionCost + totalExpensesAmount;\n  const totalPaid = paidConstructionAmount + paidExpensesAmount;\n  const totalBalance = totalProjectCost - totalPaid;\n  const overallProgress = totalProjectCost > 0 ? totalPaid / totalProjectCost * 100 : 0;\n  const calculateStageAmount = percentage => {\n    return Math.round(projectData.totalCost * percentage / 100);\n  };\n  const determineStatus = (paid, total) => {\n    if (paid === 0) return 'pending';\n    if (paid >= total) return 'completed';\n    return 'in-progress';\n  };\n  const addPaymentHistory = paymentRecord => {\n    const newPayment = {\n      id: Date.now(),\n      ...paymentRecord\n    };\n    setPayments(prev => [newPayment, ...prev]);\n  };\n  const updateStage = (stageId, updatedData) => {\n    setStages(prev => prev.map(stage => {\n      if (stage.id === stageId) {\n        let newPaid = stage.paid;\n        if (updatedData.paid !== undefined && updatedData.paid !== stage.paid) {\n          const diff = updatedData.paid - stage.paid;\n          newPaid = updatedData.paid;\n          if (diff > 0) {\n            addPaymentHistory({\n              itemId: stageId,\n              itemName: stage.name,\n              amount: diff,\n              totalPaid: newPaid,\n              balance: stage.amount - newPaid,\n              type: 'construction',\n              date: new Date().toISOString().split('T')[0]\n            });\n          }\n        }\n        const newStatus = determineStatus(newPaid, stage.amount);\n        return {\n          ...stage,\n          ...updatedData,\n          paid: newPaid,\n          status: newStatus\n        };\n      }\n      return stage;\n    }));\n  };\n  const addExpense = newExpense => {\n    const expenseWithId = {\n      ...newExpense,\n      id: Date.now(),\n      paid: 0,\n      status: 'pending'\n    };\n    setExpenses(prev => [...prev, expenseWithId]);\n    return expenseWithId;\n  };\n  const updateExpense = (expenseId, updatedData) => {\n    setExpenses(prev => prev.map(expense => {\n      if (expense.id === expenseId) {\n        let newPaid = expense.paid;\n        if (updatedData.paid !== undefined && updatedData.paid !== expense.paid) {\n          const diff = updatedData.paid - expense.paid;\n          newPaid = updatedData.paid;\n          if (diff > 0) {\n            addPaymentHistory({\n              itemId: expenseId,\n              itemName: expense.name,\n              amount: diff,\n              totalPaid: newPaid,\n              balance: expense.amount - newPaid,\n              type: 'expense',\n              date: new Date().toISOString().split('T')[0]\n            });\n          }\n        }\n        const newStatus = determineStatus(newPaid, expense.amount);\n        return {\n          ...expense,\n          ...updatedData,\n          paid: newPaid,\n          status: newStatus\n        };\n      }\n      return expense;\n    }));\n  };\n  const addManualPayment = paymentData => {\n    const newPayment = {\n      id: Date.now(),\n      type: 'other',\n      ...paymentData\n    };\n    setPayments(prev => [newPayment, ...prev]);\n  };\n  const updatePayment = (paymentId, updatedData) => {\n    setPayments(prev => prev.map(p => {\n      if (p.id === paymentId) {\n        // If amount changed and it's linked to an item, we should ideally update the item too\n        // But for simplicity and safety, we'll just update the log for now unless requested otherwise\n        // The prompt says \"Auto-sync to history list and update related card\"\n        // Let's try to sync if itemId exists\n        if (p.itemId && updatedData.amount !== undefined && updatedData.amount !== p.amount) {\n          const diff = updatedData.amount - p.amount;\n          if (p.type === 'construction') {\n            setStages(stages => stages.map(s => {\n              if (s.id === p.itemId) {\n                const newPaid = s.paid + diff;\n                return {\n                  ...s,\n                  paid: newPaid,\n                  status: determineStatus(newPaid, s.amount)\n                };\n              }\n              return s;\n            }));\n          } else if (p.type === 'expense') {\n            setExpenses(expenses => expenses.map(e => {\n              if (e.id === p.itemId) {\n                const newPaid = e.paid + diff;\n                return {\n                  ...e,\n                  paid: newPaid,\n                  status: determineStatus(newPaid, e.amount)\n                };\n              }\n              return e;\n            }));\n          }\n        }\n        return {\n          ...p,\n          ...updatedData\n        };\n      }\n      return p;\n    }));\n  };\n  const addStage = stageData => {\n    const amount = Math.round(projectData.totalCost * stageData.percentage / 100);\n    const newStage = {\n      id: Date.now().toString(),\n      // Ensure string ID for consistency\n      ...stageData,\n      amount: amount,\n      paid: 0,\n      status: 'pending'\n    };\n    setStages(prev => [...prev, newStage]);\n  };\n  const deleteStage = stageId => {\n    setStages(prev => prev.filter(s => s.id !== stageId));\n  };\n  const deleteExpense = expenseId => {\n    setExpenses(prev => prev.filter(e => e.id !== expenseId));\n  };\n  const deletePayment = paymentId => {\n    const paymentToDelete = payments.find(p => p.id === paymentId);\n\n    // Remove from payments list\n    setPayments(prev => prev.filter(p => p.id !== paymentId));\n\n    // Sync with stages/expenses if linked\n    if (paymentToDelete && paymentToDelete.itemId) {\n      const amount = Number(paymentToDelete.amount);\n      if (paymentToDelete.type === 'construction') {\n        setStages(stages => stages.map(s => {\n          if (s.id === paymentToDelete.itemId) {\n            const newPaid = Math.max(0, s.paid - amount); // Prevent negative\n            return {\n              ...s,\n              paid: newPaid,\n              status: determineStatus(newPaid, s.amount)\n            };\n          }\n          return s;\n        }));\n      } else if (paymentToDelete.type === 'expense') {\n        setExpenses(expenses => expenses.map(e => {\n          if (e.id === paymentToDelete.itemId) {\n            const newPaid = Math.max(0, e.paid - amount);\n            return {\n              ...e,\n              paid: newPaid,\n              status: determineStatus(newPaid, e.amount)\n            };\n          }\n          return e;\n        }));\n      }\n    }\n  };\n  const getAllPayments = () => {\n    return payments.sort((a, b) => new Date(b.date) - new Date(a.date));\n  };\n  const value = {\n    projectData,\n    stages,\n    expenses,\n    payments,\n    totalConstructionCost,\n    paidConstructionAmount,\n    balanceConstructionAmount,\n    totalExpensesAmount,\n    paidExpensesAmount,\n    balanceExpensesAmount,\n    totalProjectCost,\n    totalPaid,\n    totalBalance,\n    overallProgress,\n    calculateStageAmount,\n    updateStage,\n    addStage,\n    deleteStage,\n    addExpense,\n    updateExpense,\n    deleteExpense,\n    getAllPayments,\n    addManualPayment,\n    updatePayment,\n    deletePayment\n  };\n  return /*#__PURE__*/_jsxDEV(ConstructionContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 9\n  }, this);\n};\n_s2(ConstructionProvider, \"DN4XcbrcRv+N0UwNTRiBQrkQLHU=\");\n_c = ConstructionProvider;\nvar _c;\n$RefreshReg$(_c, \"ConstructionProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","PROJECT_DATA","projectName","engineer","perSqftRate","totalSqft","totalCost","lastUpdated","Date","toISOString","split","INITIAL_STAGES","id","name","percentage","amount","paid","status","date","notes","INITIAL_EXPENSES","category","ConstructionContext","useConstruction","_s","context","Error","ConstructionProvider","children","_s2","projectData","stages","setStages","saved","localStorage","getItem","JSON","parse","expenses","setExpenses","payments","setPayments","setItem","stringify","totalConstructionCost","paidConstructionAmount","reduce","sum","stage","parseInt","balanceConstructionAmount","totalExpensesAmount","expense","paidExpensesAmount","balanceExpensesAmount","totalProjectCost","totalPaid","totalBalance","overallProgress","calculateStageAmount","Math","round","determineStatus","total","addPaymentHistory","paymentRecord","newPayment","now","prev","updateStage","stageId","updatedData","map","newPaid","undefined","diff","itemId","itemName","balance","type","newStatus","addExpense","newExpense","expenseWithId","updateExpense","expenseId","addManualPayment","paymentData","updatePayment","paymentId","p","s","e","addStage","stageData","newStage","toString","deleteStage","filter","deleteExpense","deletePayment","paymentToDelete","find","Number","max","getAllPayments","sort","a","b","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/House Details/pgk-construction/src/context/ConstructionContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst PROJECT_DATA = {\r\n    projectName: \"PGK Construction\",\r\n    engineer: \"Er. P. Govindaraj\",\r\n    perSqftRate: 1650,\r\n    totalSqft: 625,\r\n    totalCost: 1031250,\r\n    lastUpdated: new Date().toISOString().split('T')[0]\r\n};\r\n\r\nconst INITIAL_STAGES = [\r\n    { id: \"advance\", name: \"Advance\", percentage: 20, amount: 206250, paid: 0, status: \"pending\", date: \"2023-09-01\", notes: \"Initial payment received\" },\r\n    { id: \"basement\", name: \"Basement\", percentage: 15, amount: 154687, paid: 0, status: \"in-progress\", date: \"2023-09-15\", notes: \"Excavation completed, foundation work in progress\" },\r\n    { id: \"lintel\", name: \"Lintel\", percentage: 15, amount: 154687, paid: 0, status: \"pending\", date: \"\", notes: \"Not started\" },\r\n    { id: \"roof\", name: \"Roof Level\", percentage: 15, amount: 154687, paid: 0, status: \"pending\", date: \"\", notes: \"Not started\" },\r\n    { id: \"inner-plastering\", name: \"Inner Plastering\", percentage: 10, amount: 103125, paid: 0, status: \"pending\", date: \"\", notes: \"Not started\" },\r\n    { id: \"outer-plastering\", name: \"Outer Plastering\", percentage: 10, amount: 103125, paid: 0, status: \"pending\", date: \"\", notes: \"Not started\" },\r\n    { id: \"tiles\", name: \"Tiles\", percentage: 8, amount: 82500, paid: 0, status: \"pending\", date: \"\", notes: \"Not started\" },\r\n    { id: \"electrical\", name: \"Electrical\", percentage: 5, amount: 51562, paid: 0, status: \"pending\", date: \"\", notes: \"Not started\" },\r\n    { id: \"whitewash\", name: \"Whitewash\", percentage: 2, amount: 20625, paid: 0, status: \"pending\", date: \"\", notes: \"Not started\" }\r\n];\r\n\r\nconst INITIAL_EXPENSES = [\r\n    { id: 1, name: \"Septic Tank\", amount: 25000, paid: 0, date: \"2023-10-05\", category: \"septic-tank\", status: \"pending\", notes: \"Installation in progress\" },\r\n    { id: 2, name: \"Sump\", amount: 15000, paid: 15000, date: \"2023-09-20\", category: \"sump\", status: \"paid\", notes: \"5000L capacity sump installed\" },\r\n    { id: 3, name: \"Borewell\", amount: 50000, paid: 50000, date: \"2023-09-10\", category: \"borewell\", status: \"paid\", notes: \"Completed successfully with good water flow\" }\r\n];\r\n\r\nconst ConstructionContext = createContext();\r\n\r\nexport const useConstruction = () => {\r\n    const context = useContext(ConstructionContext);\r\n    if (!context) {\r\n        throw new Error('useConstruction must be used within a ConstructionProvider');\r\n    }\r\n    return context;\r\n};\r\n\r\nexport const ConstructionProvider = ({ children }) => {\r\n    const [projectData] = useState(PROJECT_DATA);\r\n    const [stages, setStages] = useState(() => {\r\n        const saved = localStorage.getItem('construction-stages');\r\n        return saved ? JSON.parse(saved) : INITIAL_STAGES;\r\n    });\r\n    const [expenses, setExpenses] = useState(() => {\r\n        const saved = localStorage.getItem('construction-expenses');\r\n        return saved ? JSON.parse(saved) : INITIAL_EXPENSES;\r\n    });\r\n    const [payments, setPayments] = useState(() => {\r\n        const saved = localStorage.getItem('construction-payments');\r\n        return saved ? JSON.parse(saved) : [];\r\n    });\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('construction-stages', JSON.stringify(stages));\r\n    }, [stages]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('construction-expenses', JSON.stringify(expenses));\r\n    }, [expenses]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('construction-payments', JSON.stringify(payments));\r\n    }, [payments]);\r\n\r\n    const totalConstructionCost = projectData.totalCost;\r\n    const paidConstructionAmount = stages.reduce((sum, stage) => sum + parseInt(stage.paid || 0), 0);\r\n    const balanceConstructionAmount = totalConstructionCost - paidConstructionAmount;\r\n    const totalExpensesAmount = expenses.reduce((sum, expense) => sum + parseInt(expense.amount || 0), 0);\r\n    const paidExpensesAmount = expenses.reduce((sum, expense) => sum + parseInt(expense.paid || 0), 0);\r\n    const balanceExpensesAmount = totalExpensesAmount - paidExpensesAmount;\r\n    const totalProjectCost = totalConstructionCost + totalExpensesAmount;\r\n    const totalPaid = paidConstructionAmount + paidExpensesAmount;\r\n    const totalBalance = totalProjectCost - totalPaid;\r\n    const overallProgress = totalProjectCost > 0 ? (totalPaid / totalProjectCost) * 100 : 0;\r\n\r\n    const calculateStageAmount = (percentage) => {\r\n        return Math.round((projectData.totalCost * percentage) / 100);\r\n    };\r\n\r\n    const determineStatus = (paid, total) => {\r\n        if (paid === 0) return 'pending';\r\n        if (paid >= total) return 'completed';\r\n        return 'in-progress';\r\n    };\r\n\r\n    const addPaymentHistory = (paymentRecord) => {\r\n        const newPayment = { id: Date.now(), ...paymentRecord };\r\n        setPayments(prev => [newPayment, ...prev]);\r\n    };\r\n\r\n    const updateStage = (stageId, updatedData) => {\r\n        setStages(prev => prev.map(stage => {\r\n            if (stage.id === stageId) {\r\n                let newPaid = stage.paid;\r\n                if (updatedData.paid !== undefined && updatedData.paid !== stage.paid) {\r\n                    const diff = updatedData.paid - stage.paid;\r\n                    newPaid = updatedData.paid;\r\n                    if (diff > 0) {\r\n                        addPaymentHistory({\r\n                            itemId: stageId,\r\n                            itemName: stage.name,\r\n                            amount: diff,\r\n                            totalPaid: newPaid,\r\n                            balance: stage.amount - newPaid,\r\n                            type: 'construction',\r\n                            date: new Date().toISOString().split('T')[0]\r\n                        });\r\n                    }\r\n                }\r\n                const newStatus = determineStatus(newPaid, stage.amount);\r\n                return { ...stage, ...updatedData, paid: newPaid, status: newStatus };\r\n            }\r\n            return stage;\r\n        }));\r\n    };\r\n\r\n    const addExpense = (newExpense) => {\r\n        const expenseWithId = { ...newExpense, id: Date.now(), paid: 0, status: 'pending' };\r\n        setExpenses(prev => [...prev, expenseWithId]);\r\n        return expenseWithId;\r\n    };\r\n\r\n    const updateExpense = (expenseId, updatedData) => {\r\n        setExpenses(prev => prev.map(expense => {\r\n            if (expense.id === expenseId) {\r\n                let newPaid = expense.paid;\r\n                if (updatedData.paid !== undefined && updatedData.paid !== expense.paid) {\r\n                    const diff = updatedData.paid - expense.paid;\r\n                    newPaid = updatedData.paid;\r\n                    if (diff > 0) {\r\n                        addPaymentHistory({\r\n                            itemId: expenseId,\r\n                            itemName: expense.name,\r\n                            amount: diff,\r\n                            totalPaid: newPaid,\r\n                            balance: expense.amount - newPaid,\r\n                            type: 'expense',\r\n                            date: new Date().toISOString().split('T')[0]\r\n                        });\r\n                    }\r\n                }\r\n                const newStatus = determineStatus(newPaid, expense.amount);\r\n                return { ...expense, ...updatedData, paid: newPaid, status: newStatus };\r\n            }\r\n            return expense;\r\n        }));\r\n    };\r\n\r\n    const addManualPayment = (paymentData) => {\r\n        const newPayment = {\r\n            id: Date.now(),\r\n            type: 'other',\r\n            ...paymentData\r\n        };\r\n        setPayments(prev => [newPayment, ...prev]);\r\n    };\r\n\r\n    const updatePayment = (paymentId, updatedData) => {\r\n        setPayments(prev => prev.map(p => {\r\n            if (p.id === paymentId) {\r\n                // If amount changed and it's linked to an item, we should ideally update the item too\r\n                // But for simplicity and safety, we'll just update the log for now unless requested otherwise\r\n                // The prompt says \"Auto-sync to history list and update related card\"\r\n                // Let's try to sync if itemId exists\r\n                if (p.itemId && updatedData.amount !== undefined && updatedData.amount !== p.amount) {\r\n                    const diff = updatedData.amount - p.amount;\r\n                    if (p.type === 'construction') {\r\n                        setStages(stages => stages.map(s => {\r\n                            if (s.id === p.itemId) {\r\n                                const newPaid = s.paid + diff;\r\n                                return { ...s, paid: newPaid, status: determineStatus(newPaid, s.amount) };\r\n                            }\r\n                            return s;\r\n                        }));\r\n                    } else if (p.type === 'expense') {\r\n                        setExpenses(expenses => expenses.map(e => {\r\n                            if (e.id === p.itemId) {\r\n                                const newPaid = e.paid + diff;\r\n                                return { ...e, paid: newPaid, status: determineStatus(newPaid, e.amount) };\r\n                            }\r\n                            return e;\r\n                        }));\r\n                    }\r\n                }\r\n                return { ...p, ...updatedData };\r\n            }\r\n            return p;\r\n        }));\r\n    };\r\n\r\n    const addStage = (stageData) => {\r\n        const amount = Math.round((projectData.totalCost * stageData.percentage) / 100);\r\n        const newStage = {\r\n            id: Date.now().toString(), // Ensure string ID for consistency\r\n            ...stageData,\r\n            amount: amount,\r\n            paid: 0,\r\n            status: 'pending'\r\n        };\r\n        setStages(prev => [...prev, newStage]);\r\n    };\r\n\r\n    const deleteStage = (stageId) => {\r\n        setStages(prev => prev.filter(s => s.id !== stageId));\r\n    };\r\n\r\n    const deleteExpense = (expenseId) => {\r\n        setExpenses(prev => prev.filter(e => e.id !== expenseId));\r\n    };\r\n\r\n    const deletePayment = (paymentId) => {\r\n        const paymentToDelete = payments.find(p => p.id === paymentId);\r\n\r\n        // Remove from payments list\r\n        setPayments(prev => prev.filter(p => p.id !== paymentId));\r\n\r\n        // Sync with stages/expenses if linked\r\n        if (paymentToDelete && paymentToDelete.itemId) {\r\n            const amount = Number(paymentToDelete.amount);\r\n\r\n            if (paymentToDelete.type === 'construction') {\r\n                setStages(stages => stages.map(s => {\r\n                    if (s.id === paymentToDelete.itemId) {\r\n                        const newPaid = Math.max(0, s.paid - amount); // Prevent negative\r\n                        return { ...s, paid: newPaid, status: determineStatus(newPaid, s.amount) };\r\n                    }\r\n                    return s;\r\n                }));\r\n            } else if (paymentToDelete.type === 'expense') {\r\n                setExpenses(expenses => expenses.map(e => {\r\n                    if (e.id === paymentToDelete.itemId) {\r\n                        const newPaid = Math.max(0, e.paid - amount);\r\n                        return { ...e, paid: newPaid, status: determineStatus(newPaid, e.amount) };\r\n                    }\r\n                    return e;\r\n                }));\r\n            }\r\n        }\r\n    };\r\n\r\n    const getAllPayments = () => {\r\n        return payments.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n    };\r\n\r\n    const value = {\r\n        projectData,\r\n        stages,\r\n        expenses,\r\n        payments,\r\n        totalConstructionCost,\r\n        paidConstructionAmount,\r\n        balanceConstructionAmount,\r\n        totalExpensesAmount,\r\n        paidExpensesAmount,\r\n        balanceExpensesAmount,\r\n        totalProjectCost,\r\n        totalPaid,\r\n        totalBalance,\r\n        overallProgress,\r\n        calculateStageAmount,\r\n        updateStage,\r\n        addStage,\r\n        deleteStage,\r\n        addExpense,\r\n        updateExpense,\r\n        deleteExpense,\r\n        getAllPayments,\r\n        addManualPayment,\r\n        updatePayment,\r\n        deletePayment\r\n    };\r\n\r\n    return (\r\n        <ConstructionContext.Provider value={value}>\r\n            {children}\r\n        </ConstructionContext.Provider>\r\n    );\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,YAAY,GAAG;EACjBC,WAAW,EAAE,kBAAkB;EAC/BC,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,IAAI;EACjBC,SAAS,EAAE,GAAG;EACdC,SAAS,EAAE,OAAO;EAClBC,WAAW,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;AACtD,CAAC;AAED,MAAMC,cAAc,GAAG,CACnB;EAAEC,EAAE,EAAE,SAAS;EAAEC,IAAI,EAAE,SAAS;EAAEC,UAAU,EAAE,EAAE;EAAEC,MAAM,EAAE,MAAM;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,YAAY;EAAEC,KAAK,EAAE;AAA2B,CAAC,EACrJ;EAAEP,EAAE,EAAE,UAAU;EAAEC,IAAI,EAAE,UAAU;EAAEC,UAAU,EAAE,EAAE;EAAEC,MAAM,EAAE,MAAM;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,aAAa;EAAEC,IAAI,EAAE,YAAY;EAAEC,KAAK,EAAE;AAAoD,CAAC,EACpL;EAAEP,EAAE,EAAE,QAAQ;EAAEC,IAAI,EAAE,QAAQ;EAAEC,UAAU,EAAE,EAAE;EAAEC,MAAM,EAAE,MAAM;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAc,CAAC,EAC5H;EAAEP,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,YAAY;EAAEC,UAAU,EAAE,EAAE;EAAEC,MAAM,EAAE,MAAM;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAc,CAAC,EAC9H;EAAEP,EAAE,EAAE,kBAAkB;EAAEC,IAAI,EAAE,kBAAkB;EAAEC,UAAU,EAAE,EAAE;EAAEC,MAAM,EAAE,MAAM;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAc,CAAC,EAChJ;EAAEP,EAAE,EAAE,kBAAkB;EAAEC,IAAI,EAAE,kBAAkB;EAAEC,UAAU,EAAE,EAAE;EAAEC,MAAM,EAAE,MAAM;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAc,CAAC,EAChJ;EAAEP,EAAE,EAAE,OAAO;EAAEC,IAAI,EAAE,OAAO;EAAEC,UAAU,EAAE,CAAC;EAAEC,MAAM,EAAE,KAAK;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAc,CAAC,EACxH;EAAEP,EAAE,EAAE,YAAY;EAAEC,IAAI,EAAE,YAAY;EAAEC,UAAU,EAAE,CAAC;EAAEC,MAAM,EAAE,KAAK;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAc,CAAC,EAClI;EAAEP,EAAE,EAAE,WAAW;EAAEC,IAAI,EAAE,WAAW;EAAEC,UAAU,EAAE,CAAC;EAAEC,MAAM,EAAE,KAAK;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,SAAS;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAc,CAAC,CACnI;AAED,MAAMC,gBAAgB,GAAG,CACrB;EAAER,EAAE,EAAE,CAAC;EAAEC,IAAI,EAAE,aAAa;EAAEE,MAAM,EAAE,KAAK;EAAEC,IAAI,EAAE,CAAC;EAAEE,IAAI,EAAE,YAAY;EAAEG,QAAQ,EAAE,aAAa;EAAEJ,MAAM,EAAE,SAAS;EAAEE,KAAK,EAAE;AAA2B,CAAC,EACzJ;EAAEP,EAAE,EAAE,CAAC;EAAEC,IAAI,EAAE,MAAM;EAAEE,MAAM,EAAE,KAAK;EAAEC,IAAI,EAAE,KAAK;EAAEE,IAAI,EAAE,YAAY;EAAEG,QAAQ,EAAE,MAAM;EAAEJ,MAAM,EAAE,MAAM;EAAEE,KAAK,EAAE;AAAgC,CAAC,EACjJ;EAAEP,EAAE,EAAE,CAAC;EAAEC,IAAI,EAAE,UAAU;EAAEE,MAAM,EAAE,KAAK;EAAEC,IAAI,EAAE,KAAK;EAAEE,IAAI,EAAE,YAAY;EAAEG,QAAQ,EAAE,UAAU;EAAEJ,MAAM,EAAE,MAAM;EAAEE,KAAK,EAAE;AAA8C,CAAC,CAC1K;AAED,MAAMG,mBAAmB,gBAAG3B,aAAa,CAAC,CAAC;AAE3C,OAAO,MAAM4B,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAMC,OAAO,GAAG7B,UAAU,CAAC0B,mBAAmB,CAAC;EAC/C,IAAI,CAACG,OAAO,EAAE;IACV,MAAM,IAAIC,KAAK,CAAC,4DAA4D,CAAC;EACjF;EACA,OAAOD,OAAO;AAClB,CAAC;AAACD,EAAA,CANWD,eAAe;AAQ5B,OAAO,MAAMI,oBAAoB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAClD,MAAM,CAACC,WAAW,CAAC,GAAGjC,QAAQ,CAACI,YAAY,CAAC;EAC5C,MAAM,CAAC8B,MAAM,EAAEC,SAAS,CAAC,GAAGnC,QAAQ,CAAC,MAAM;IACvC,MAAMoC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC;IACzD,OAAOF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAGtB,cAAc;EACrD,CAAC,CAAC;EACF,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAG1C,QAAQ,CAAC,MAAM;IAC3C,MAAMoC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAAC;IAC3D,OAAOF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAGb,gBAAgB;EACvD,CAAC,CAAC;EACF,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAG5C,QAAQ,CAAC,MAAM;IAC3C,MAAMoC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAAC;IAC3D,OAAOF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAG,EAAE;EACzC,CAAC,CAAC;EAEFnC,SAAS,CAAC,MAAM;IACZoC,YAAY,CAACQ,OAAO,CAAC,qBAAqB,EAAEN,IAAI,CAACO,SAAS,CAACZ,MAAM,CAAC,CAAC;EACvE,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EAEZjC,SAAS,CAAC,MAAM;IACZoC,YAAY,CAACQ,OAAO,CAAC,uBAAuB,EAAEN,IAAI,CAACO,SAAS,CAACL,QAAQ,CAAC,CAAC;EAC3E,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEdxC,SAAS,CAAC,MAAM;IACZoC,YAAY,CAACQ,OAAO,CAAC,uBAAuB,EAAEN,IAAI,CAACO,SAAS,CAACH,QAAQ,CAAC,CAAC;EAC3E,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,MAAMI,qBAAqB,GAAGd,WAAW,CAACxB,SAAS;EACnD,MAAMuC,sBAAsB,GAAGd,MAAM,CAACe,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAGE,QAAQ,CAACD,KAAK,CAAChC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAChG,MAAMkC,yBAAyB,GAAGN,qBAAqB,GAAGC,sBAAsB;EAChF,MAAMM,mBAAmB,GAAGb,QAAQ,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEK,OAAO,KAAKL,GAAG,GAAGE,QAAQ,CAACG,OAAO,CAACrC,MAAM,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EACrG,MAAMsC,kBAAkB,GAAGf,QAAQ,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEK,OAAO,KAAKL,GAAG,GAAGE,QAAQ,CAACG,OAAO,CAACpC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAClG,MAAMsC,qBAAqB,GAAGH,mBAAmB,GAAGE,kBAAkB;EACtE,MAAME,gBAAgB,GAAGX,qBAAqB,GAAGO,mBAAmB;EACpE,MAAMK,SAAS,GAAGX,sBAAsB,GAAGQ,kBAAkB;EAC7D,MAAMI,YAAY,GAAGF,gBAAgB,GAAGC,SAAS;EACjD,MAAME,eAAe,GAAGH,gBAAgB,GAAG,CAAC,GAAIC,SAAS,GAAGD,gBAAgB,GAAI,GAAG,GAAG,CAAC;EAEvF,MAAMI,oBAAoB,GAAI7C,UAAU,IAAK;IACzC,OAAO8C,IAAI,CAACC,KAAK,CAAE/B,WAAW,CAACxB,SAAS,GAAGQ,UAAU,GAAI,GAAG,CAAC;EACjE,CAAC;EAED,MAAMgD,eAAe,GAAGA,CAAC9C,IAAI,EAAE+C,KAAK,KAAK;IACrC,IAAI/C,IAAI,KAAK,CAAC,EAAE,OAAO,SAAS;IAChC,IAAIA,IAAI,IAAI+C,KAAK,EAAE,OAAO,WAAW;IACrC,OAAO,aAAa;EACxB,CAAC;EAED,MAAMC,iBAAiB,GAAIC,aAAa,IAAK;IACzC,MAAMC,UAAU,GAAG;MAAEtD,EAAE,EAAEJ,IAAI,CAAC2D,GAAG,CAAC,CAAC;MAAE,GAAGF;IAAc,CAAC;IACvDxB,WAAW,CAAC2B,IAAI,IAAI,CAACF,UAAU,EAAE,GAAGE,IAAI,CAAC,CAAC;EAC9C,CAAC;EAED,MAAMC,WAAW,GAAGA,CAACC,OAAO,EAAEC,WAAW,KAAK;IAC1CvC,SAAS,CAACoC,IAAI,IAAIA,IAAI,CAACI,GAAG,CAACxB,KAAK,IAAI;MAChC,IAAIA,KAAK,CAACpC,EAAE,KAAK0D,OAAO,EAAE;QACtB,IAAIG,OAAO,GAAGzB,KAAK,CAAChC,IAAI;QACxB,IAAIuD,WAAW,CAACvD,IAAI,KAAK0D,SAAS,IAAIH,WAAW,CAACvD,IAAI,KAAKgC,KAAK,CAAChC,IAAI,EAAE;UACnE,MAAM2D,IAAI,GAAGJ,WAAW,CAACvD,IAAI,GAAGgC,KAAK,CAAChC,IAAI;UAC1CyD,OAAO,GAAGF,WAAW,CAACvD,IAAI;UAC1B,IAAI2D,IAAI,GAAG,CAAC,EAAE;YACVX,iBAAiB,CAAC;cACdY,MAAM,EAAEN,OAAO;cACfO,QAAQ,EAAE7B,KAAK,CAACnC,IAAI;cACpBE,MAAM,EAAE4D,IAAI;cACZnB,SAAS,EAAEiB,OAAO;cAClBK,OAAO,EAAE9B,KAAK,CAACjC,MAAM,GAAG0D,OAAO;cAC/BM,IAAI,EAAE,cAAc;cACpB7D,IAAI,EAAE,IAAIV,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC/C,CAAC,CAAC;UACN;QACJ;QACA,MAAMsE,SAAS,GAAGlB,eAAe,CAACW,OAAO,EAAEzB,KAAK,CAACjC,MAAM,CAAC;QACxD,OAAO;UAAE,GAAGiC,KAAK;UAAE,GAAGuB,WAAW;UAAEvD,IAAI,EAAEyD,OAAO;UAAExD,MAAM,EAAE+D;QAAU,CAAC;MACzE;MACA,OAAOhC,KAAK;IAChB,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAMiC,UAAU,GAAIC,UAAU,IAAK;IAC/B,MAAMC,aAAa,GAAG;MAAE,GAAGD,UAAU;MAAEtE,EAAE,EAAEJ,IAAI,CAAC2D,GAAG,CAAC,CAAC;MAAEnD,IAAI,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAU,CAAC;IACnFsB,WAAW,CAAC6B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEe,aAAa,CAAC,CAAC;IAC7C,OAAOA,aAAa;EACxB,CAAC;EAED,MAAMC,aAAa,GAAGA,CAACC,SAAS,EAAEd,WAAW,KAAK;IAC9ChC,WAAW,CAAC6B,IAAI,IAAIA,IAAI,CAACI,GAAG,CAACpB,OAAO,IAAI;MACpC,IAAIA,OAAO,CAACxC,EAAE,KAAKyE,SAAS,EAAE;QAC1B,IAAIZ,OAAO,GAAGrB,OAAO,CAACpC,IAAI;QAC1B,IAAIuD,WAAW,CAACvD,IAAI,KAAK0D,SAAS,IAAIH,WAAW,CAACvD,IAAI,KAAKoC,OAAO,CAACpC,IAAI,EAAE;UACrE,MAAM2D,IAAI,GAAGJ,WAAW,CAACvD,IAAI,GAAGoC,OAAO,CAACpC,IAAI;UAC5CyD,OAAO,GAAGF,WAAW,CAACvD,IAAI;UAC1B,IAAI2D,IAAI,GAAG,CAAC,EAAE;YACVX,iBAAiB,CAAC;cACdY,MAAM,EAAES,SAAS;cACjBR,QAAQ,EAAEzB,OAAO,CAACvC,IAAI;cACtBE,MAAM,EAAE4D,IAAI;cACZnB,SAAS,EAAEiB,OAAO;cAClBK,OAAO,EAAE1B,OAAO,CAACrC,MAAM,GAAG0D,OAAO;cACjCM,IAAI,EAAE,SAAS;cACf7D,IAAI,EAAE,IAAIV,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC/C,CAAC,CAAC;UACN;QACJ;QACA,MAAMsE,SAAS,GAAGlB,eAAe,CAACW,OAAO,EAAErB,OAAO,CAACrC,MAAM,CAAC;QAC1D,OAAO;UAAE,GAAGqC,OAAO;UAAE,GAAGmB,WAAW;UAAEvD,IAAI,EAAEyD,OAAO;UAAExD,MAAM,EAAE+D;QAAU,CAAC;MAC3E;MACA,OAAO5B,OAAO;IAClB,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAMkC,gBAAgB,GAAIC,WAAW,IAAK;IACtC,MAAMrB,UAAU,GAAG;MACftD,EAAE,EAAEJ,IAAI,CAAC2D,GAAG,CAAC,CAAC;MACdY,IAAI,EAAE,OAAO;MACb,GAAGQ;IACP,CAAC;IACD9C,WAAW,CAAC2B,IAAI,IAAI,CAACF,UAAU,EAAE,GAAGE,IAAI,CAAC,CAAC;EAC9C,CAAC;EAED,MAAMoB,aAAa,GAAGA,CAACC,SAAS,EAAElB,WAAW,KAAK;IAC9C9B,WAAW,CAAC2B,IAAI,IAAIA,IAAI,CAACI,GAAG,CAACkB,CAAC,IAAI;MAC9B,IAAIA,CAAC,CAAC9E,EAAE,KAAK6E,SAAS,EAAE;QACpB;QACA;QACA;QACA;QACA,IAAIC,CAAC,CAACd,MAAM,IAAIL,WAAW,CAACxD,MAAM,KAAK2D,SAAS,IAAIH,WAAW,CAACxD,MAAM,KAAK2E,CAAC,CAAC3E,MAAM,EAAE;UACjF,MAAM4D,IAAI,GAAGJ,WAAW,CAACxD,MAAM,GAAG2E,CAAC,CAAC3E,MAAM;UAC1C,IAAI2E,CAAC,CAACX,IAAI,KAAK,cAAc,EAAE;YAC3B/C,SAAS,CAACD,MAAM,IAAIA,MAAM,CAACyC,GAAG,CAACmB,CAAC,IAAI;cAChC,IAAIA,CAAC,CAAC/E,EAAE,KAAK8E,CAAC,CAACd,MAAM,EAAE;gBACnB,MAAMH,OAAO,GAAGkB,CAAC,CAAC3E,IAAI,GAAG2D,IAAI;gBAC7B,OAAO;kBAAE,GAAGgB,CAAC;kBAAE3E,IAAI,EAAEyD,OAAO;kBAAExD,MAAM,EAAE6C,eAAe,CAACW,OAAO,EAAEkB,CAAC,CAAC5E,MAAM;gBAAE,CAAC;cAC9E;cACA,OAAO4E,CAAC;YACZ,CAAC,CAAC,CAAC;UACP,CAAC,MAAM,IAAID,CAAC,CAACX,IAAI,KAAK,SAAS,EAAE;YAC7BxC,WAAW,CAACD,QAAQ,IAAIA,QAAQ,CAACkC,GAAG,CAACoB,CAAC,IAAI;cACtC,IAAIA,CAAC,CAAChF,EAAE,KAAK8E,CAAC,CAACd,MAAM,EAAE;gBACnB,MAAMH,OAAO,GAAGmB,CAAC,CAAC5E,IAAI,GAAG2D,IAAI;gBAC7B,OAAO;kBAAE,GAAGiB,CAAC;kBAAE5E,IAAI,EAAEyD,OAAO;kBAAExD,MAAM,EAAE6C,eAAe,CAACW,OAAO,EAAEmB,CAAC,CAAC7E,MAAM;gBAAE,CAAC;cAC9E;cACA,OAAO6E,CAAC;YACZ,CAAC,CAAC,CAAC;UACP;QACJ;QACA,OAAO;UAAE,GAAGF,CAAC;UAAE,GAAGnB;QAAY,CAAC;MACnC;MACA,OAAOmB,CAAC;IACZ,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAMG,QAAQ,GAAIC,SAAS,IAAK;IAC5B,MAAM/E,MAAM,GAAG6C,IAAI,CAACC,KAAK,CAAE/B,WAAW,CAACxB,SAAS,GAAGwF,SAAS,CAAChF,UAAU,GAAI,GAAG,CAAC;IAC/E,MAAMiF,QAAQ,GAAG;MACbnF,EAAE,EAAEJ,IAAI,CAAC2D,GAAG,CAAC,CAAC,CAAC6B,QAAQ,CAAC,CAAC;MAAE;MAC3B,GAAGF,SAAS;MACZ/E,MAAM,EAAEA,MAAM;MACdC,IAAI,EAAE,CAAC;MACPC,MAAM,EAAE;IACZ,CAAC;IACDe,SAAS,CAACoC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE2B,QAAQ,CAAC,CAAC;EAC1C,CAAC;EAED,MAAME,WAAW,GAAI3B,OAAO,IAAK;IAC7BtC,SAAS,CAACoC,IAAI,IAAIA,IAAI,CAAC8B,MAAM,CAACP,CAAC,IAAIA,CAAC,CAAC/E,EAAE,KAAK0D,OAAO,CAAC,CAAC;EACzD,CAAC;EAED,MAAM6B,aAAa,GAAId,SAAS,IAAK;IACjC9C,WAAW,CAAC6B,IAAI,IAAIA,IAAI,CAAC8B,MAAM,CAACN,CAAC,IAAIA,CAAC,CAAChF,EAAE,KAAKyE,SAAS,CAAC,CAAC;EAC7D,CAAC;EAED,MAAMe,aAAa,GAAIX,SAAS,IAAK;IACjC,MAAMY,eAAe,GAAG7D,QAAQ,CAAC8D,IAAI,CAACZ,CAAC,IAAIA,CAAC,CAAC9E,EAAE,KAAK6E,SAAS,CAAC;;IAE9D;IACAhD,WAAW,CAAC2B,IAAI,IAAIA,IAAI,CAAC8B,MAAM,CAACR,CAAC,IAAIA,CAAC,CAAC9E,EAAE,KAAK6E,SAAS,CAAC,CAAC;;IAEzD;IACA,IAAIY,eAAe,IAAIA,eAAe,CAACzB,MAAM,EAAE;MAC3C,MAAM7D,MAAM,GAAGwF,MAAM,CAACF,eAAe,CAACtF,MAAM,CAAC;MAE7C,IAAIsF,eAAe,CAACtB,IAAI,KAAK,cAAc,EAAE;QACzC/C,SAAS,CAACD,MAAM,IAAIA,MAAM,CAACyC,GAAG,CAACmB,CAAC,IAAI;UAChC,IAAIA,CAAC,CAAC/E,EAAE,KAAKyF,eAAe,CAACzB,MAAM,EAAE;YACjC,MAAMH,OAAO,GAAGb,IAAI,CAAC4C,GAAG,CAAC,CAAC,EAAEb,CAAC,CAAC3E,IAAI,GAAGD,MAAM,CAAC,CAAC,CAAC;YAC9C,OAAO;cAAE,GAAG4E,CAAC;cAAE3E,IAAI,EAAEyD,OAAO;cAAExD,MAAM,EAAE6C,eAAe,CAACW,OAAO,EAAEkB,CAAC,CAAC5E,MAAM;YAAE,CAAC;UAC9E;UACA,OAAO4E,CAAC;QACZ,CAAC,CAAC,CAAC;MACP,CAAC,MAAM,IAAIU,eAAe,CAACtB,IAAI,KAAK,SAAS,EAAE;QAC3CxC,WAAW,CAACD,QAAQ,IAAIA,QAAQ,CAACkC,GAAG,CAACoB,CAAC,IAAI;UACtC,IAAIA,CAAC,CAAChF,EAAE,KAAKyF,eAAe,CAACzB,MAAM,EAAE;YACjC,MAAMH,OAAO,GAAGb,IAAI,CAAC4C,GAAG,CAAC,CAAC,EAAEZ,CAAC,CAAC5E,IAAI,GAAGD,MAAM,CAAC;YAC5C,OAAO;cAAE,GAAG6E,CAAC;cAAE5E,IAAI,EAAEyD,OAAO;cAAExD,MAAM,EAAE6C,eAAe,CAACW,OAAO,EAAEmB,CAAC,CAAC7E,MAAM;YAAE,CAAC;UAC9E;UACA,OAAO6E,CAAC;QACZ,CAAC,CAAC,CAAC;MACP;IACJ;EACJ,CAAC;EAED,MAAMa,cAAc,GAAGA,CAAA,KAAM;IACzB,OAAOjE,QAAQ,CAACkE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIpG,IAAI,CAACoG,CAAC,CAAC1F,IAAI,CAAC,GAAG,IAAIV,IAAI,CAACmG,CAAC,CAACzF,IAAI,CAAC,CAAC;EACvE,CAAC;EAED,MAAM2F,KAAK,GAAG;IACV/E,WAAW;IACXC,MAAM;IACNO,QAAQ;IACRE,QAAQ;IACRI,qBAAqB;IACrBC,sBAAsB;IACtBK,yBAAyB;IACzBC,mBAAmB;IACnBE,kBAAkB;IAClBC,qBAAqB;IACrBC,gBAAgB;IAChBC,SAAS;IACTC,YAAY;IACZC,eAAe;IACfC,oBAAoB;IACpBU,WAAW;IACXwB,QAAQ;IACRI,WAAW;IACXhB,UAAU;IACVG,aAAa;IACbe,aAAa;IACbM,cAAc;IACdnB,gBAAgB;IAChBE,aAAa;IACbY;EACJ,CAAC;EAED,oBACIpG,OAAA,CAACsB,mBAAmB,CAACwF,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAjF,QAAA,EACtCA;EAAQ;IAAAmF,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACiB,CAAC;AAEvC,CAAC;AAACrF,GAAA,CAhPWF,oBAAoB;AAAAwF,EAAA,GAApBxF,oBAAoB;AAAA,IAAAwF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}